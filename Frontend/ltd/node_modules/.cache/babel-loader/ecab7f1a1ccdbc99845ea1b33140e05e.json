{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\sri likhitha\\\\Downloads\\\\ltd\\\\ltd\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\sri likhitha\\\\Downloads\\\\ltd\\\\ltd\\\\src\\\\Components\\\\Login.js\";\nimport React, { useState } from 'react';\nimport { NavLink, useNavigate } from 'react-router-dom';\nexport default function Login(_ref) {\n  var type = _ref.type;\n  var isEmp = type === 'emp' ? true : false;\n  var history = useNavigate();\n  var _useState = useState(\"\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    userName = _useState2[0],\n    setUserName = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassWord = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    error = _useState6[0],\n    setError = _useState6[1];\n  React.useEffect(function () {\n    var _localStorage$getItem;\n    console.log(localStorage.getItem(\"userName\"));\n    if ((_localStorage$getItem = localStorage.getItem(\"userName\")) === null || _localStorage$getItem === void 0 ? void 0 : _localStorage$getItem.length) {\n      history(\"/app\");\n    }\n  }, [type]);\n  var onClick = function onClick() {\n    var url = isEmp ? \"http://localhost:8091/api/v1/employee/\".concat(userName) : \"http://localhost:8092/api/v2/\".concat(userName);\n    fetch(url).then(function (response) {\n      return response.json();\n    }).then(function (json) {\n      if (isEmp && json.password == password) {\n        setError(false);\n        history(\"/app\");\n        localStorage.setItem(\"mode\", 'Employee');\n        localStorage.setItem('userName', json.managerId);\n        localStorage.setItem('name', json.empName);\n        localStorage.setItem('type', json.managerId);\n      } else if (!isEmp && json.managerPassword == password) {\n        localStorage.setItem(\"mode\", 'Manager');\n        localStorage.setItem('userName', json.empId);\n        localStorage.setItem('name', json.managerName);\n        localStorage.setItem('type', json.projectId);\n        setError(false);\n        history(\"/app\");\n      } else {\n        setError(true);\n      }\n    });\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 12\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"overlay\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, isEmp ? 'Employee' : 'Manager', \" Login.\"), isEmp && /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 18\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, \"login with social media\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 10\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-facebook\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 16\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 10\n    }\n  }, \" \", /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-twitter\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 16\n    }\n  }), \" Login with Twitter\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, \"Login\"), isEmp && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 16\n    }\n  }, \"Don't have an account? \", /*#__PURE__*/React.createElement(NavLink, {\n    to: \"/auth/EmpSignup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 42\n    }\n  }, \"Creat Your Account\"), \" it takes less than a minute\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"inputs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    value: userName,\n    onChange: function onChange(e) {\n      return setUserName(e.target.value);\n    },\n    type: \"text\",\n    placeholder: \"user name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    value: password,\n    onChange: function onChange(e) {\n      return setPassWord(e.target.value);\n    },\n    type: \"password\",\n    placeholder: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }), error && /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 19\n    }\n  }, \"Password doesn't match\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"remember-me--forget-password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    to: isEmp ? '/auth/MngLogin' : '/auth/EmpLogin',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, isEmp ? 'Manager Login' : 'Employe Login'), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, \"forget password?\")), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: onClick,\n    disabled: !userName.trim() || !password.trim(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, \"Login\")));\n}","map":{"version":3,"names":["React","useState","NavLink","useNavigate","Login","type","isEmp","history","userName","setUserName","password","setPassWord","error","setError","useEffect","console","log","localStorage","getItem","length","onClick","url","fetch","then","response","json","setItem","managerId","empName","managerPassword","empId","managerName","projectId","e","target","value","color","trim"],"sources":["C:/Users/sri likhitha/Downloads/ltd/ltd/src/Components/Login.js"],"sourcesContent":["import React, {useState} from 'react';\r\nimport { NavLink,useNavigate } from 'react-router-dom';\r\n\r\nexport default function Login({type}){\r\n    const isEmp= type==='emp' ? true : false;\r\n    let history = useNavigate();\r\n    const [userName,setUserName]=useState(\"\");\r\n    const [password,setPassWord]=useState(\"\");\r\n    const [error,setError]=useState(false);\r\n\r\n    React.useEffect(()=>{\r\n        console.log(localStorage.getItem(\"userName\"))\r\n        if(localStorage.getItem(\"userName\")?.length){\r\n            history(\"/app\")\r\n        }\r\n    },[type])\r\n  \r\n  const  onClick=()=>{\r\n        const url= isEmp ? `http://localhost:8091/api/v1/employee/${userName}`: `http://localhost:8092/api/v2/${userName}`;\r\n        fetch(url)\r\n  .then((response) => response.json())\r\n  .then((json) => {\r\n    if(isEmp && json.password==password){\r\n        setError(false)\r\n        history(\"/app\")\r\n        localStorage.setItem(\"mode\", 'Employee')\r\n        localStorage.setItem('userName', json.managerId);\r\n       localStorage.setItem('name', json.empName);\r\n       localStorage.setItem('type', json.managerId);\r\n    }else if(!isEmp && json.managerPassword==password){\r\n        localStorage.setItem(\"mode\", 'Manager')\r\n        localStorage.setItem('userName', json.empId);\r\n       localStorage.setItem('name', json.managerName);\r\n       localStorage.setItem('type', json.projectId);\r\n       setError(false)\r\n        history(\"/app\")\r\n    }else{\r\n        setError(true)\r\n    }\r\n    \r\n  });\r\n    \r\n    }\r\n\r\n\r\n    return <div className=\"box-form\">\r\n    <div className=\"left\">\r\n      <div className=\"overlay\">\r\n        <h1>{isEmp ? 'Employee' : 'Manager'} Login.</h1>\r\n       {isEmp && <span>\r\n          <p>login with social media</p>\r\n         <div> <i className=\"fa fa-facebook\" aria-hidden=\"true\" /></div>\r\n         <div> <i className=\"fa fa-twitter\" aria-hidden=\"true\" /> Login with Twitter</div>\r\n        </span> }\r\n      </div>\r\n    </div>\r\n    <div className=\"right\">\r\n      <h5>Login</h5>\r\n     {isEmp && <p>Don't have an account? <NavLink to=\"/auth/EmpSignup\">Creat Your Account</NavLink> it takes less than a minute</p> }\r\n      <div className=\"inputs\">\r\n        <input value={userName} onChange={e=>setUserName(e.target.value)} type=\"text\" placeholder=\"user name\" />\r\n        <br />\r\n        <input value={password} onChange={e=>setPassWord(e.target.value)} type=\"password\" placeholder=\"password\" />\r\n        {error && <span style={{color: 'red'}}>Password doesn't match</span>}\r\n      </div>\r\n      <br />\r\n      <div className=\"remember-me--forget-password\">\r\n          <NavLink to={isEmp ? '/auth/MngLogin' : '/auth/EmpLogin'} >{isEmp ? 'Manager Login' : 'Employe Login'}</NavLink>\r\n        <p>forget password?</p>\r\n      </div>\r\n      <br />\r\n      <button onClick={onClick} disabled={!userName.trim() || !password.trim()}>Login</button>\r\n    </div>\r\n  </div>\r\n  \r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}